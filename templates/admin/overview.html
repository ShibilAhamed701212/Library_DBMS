{% extends "layout.html" %}

{% block title %}Admin Overview{% endblock %}
{% block header_title %}Dashboard Overview{% endblock %}
{% block header_subtitle %}Quick look at your library status{% endblock %}

{% block content %}
<!-- Stats Grid -->
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon">ðŸ‘¥</div>
        <div class="stat-info">
            <span class="stat-label">Total Users</span>
            <span class="stat-value">{{ total_users }}</span>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">ðŸ“š</div>
        <div class="stat-info">
            <span class="stat-label">Total Books</span>
            <span class="stat-value">{{ total_books }}</span>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">ðŸ”–</div>
        <div class="stat-info">
            <span class="stat-label">Active Issues</span>
            <span class="stat-value">{{ total_issues }}</span>
        </div>
    </div>
</div>

<!-- Recent Activity -->
<section class="dashboard-section">
    <div class="section-header">
        <h2>Recent Borrowing Activity</h2>
        <a href="/admin/issues" class="btn btn-primary btn-sm">View All</a>
    </div>
    <div class="section-content">
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Issue ID</th>
                        <th>User</th>
                        <th>Book</th>
                        <th>Issue Date</th>
                    </tr>
                </thead>
                <tbody>
                    {% for i in recent_issues %}
                    <tr>
                        <td>#{{ i.issue_id }}</td>
                        <td style="font-weight: 500;">{{ i.user_name }}</td>
                        <td>{{ i.book_title }}</td>
                        <td>{{ i.issue_date }}</td>
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="4" style="text-align: center; color: var(--text-sub); padding: 2rem;">No recent activity.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</section>
{% endblock %}
